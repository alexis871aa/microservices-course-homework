## üí≥ –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è PaymentService

–°–µ—Ä–≤–∏—Å –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑–æ–≤ —Å–∏–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø–ª–∞—Ç—ë–∂–Ω–æ–≥–æ —à–ª—é–∑–∞. –û–Ω –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –Ω–∞
–æ–ø–ª–∞—Ç—É, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –ø–µ—á–∞—Ç–∞–µ—Ç –µ–≥–æ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.

---

### üìå –¶–µ–ª–∏

- –û—Å–≤–æ–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é gRPC-—Å–µ—Ä–≤–∏—Å–∞
- –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤—Ö–æ–¥—è—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ü–æ–ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è –≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UUID –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏

---

### üìÅ –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

#### gRPC-–º–µ—Ç–æ–¥: `PayOrder`

**–û–ø–∏—Å–∞–Ω–∏–µ:**  
–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –Ω–∞ –æ–ø–ª–∞—Ç—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `transaction_uuid`.

**–ó–∞–ø—Ä–æ—Å:**

| –ü–æ–ª–µ           | –¢–∏–ø           | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
|----------------|---------------|----------------------------------------------|
| order_uuid     | string        | UUID –∑–∞–∫–∞–∑–∞                                  |
| user_uuid      | string        | UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –æ–ø–ª–∞—Ç—É |
| payment_method | PaymentMethod | –í—ã–±—Ä–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã                      |

**–û—Ç–≤–µ—Ç:**

| –ü–æ–ª–µ             | –¢–∏–ø    | –û–ø–∏—Å–∞–Ω–∏–µ               |
|------------------|--------|------------------------|
| transaction_uuid | string | UUID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ–ø–ª–∞—Ç—ã |

---

### üì¶ –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ: PaymentMethod

| –ù–∞–∑–≤–∞–Ω–∏–µ       | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                            |
|----------------|----------|-------------------------------------|
| UNKNOWN        | 0        | –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–ø–æ—Å–æ–±                  |
| CARD           | 1        | –ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞                    |
| SBP            | 2        | –°–∏—Å—Ç–µ–º–∞ –±—ã—Å—Ç—Ä—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π            |
| CREDIT_CARD    | 3        | –ö—Ä–µ–¥–∏—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞                     |
| INVESTOR_MONEY | 4        | –î–µ–Ω—å–≥–∏ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–µ—Ç–æ–¥) |

---

### üß† –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞

- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è `transaction_uuid` (UUID v4).
- –í –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:

  ```
  –û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, transaction_uuid: <uuid>
  ```

- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `transaction_uuid` –≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è.

---

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏—ë–º–∫–∏

- –ú–µ—Ç–æ–¥ `PayOrder` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å—Ç—Ä–æ–≥–æ –ø–æ `.proto`-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
- –í—Å–µ –ø–æ–ª—è –∑–∞–ø—Ä–æ—Å–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- UUID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–æ–æ–±—â–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- –û—Ç–≤–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º

---

### üîç –ü–æ–¥—Å–∫–∞–∑–∫–∏

- –ò—Å–ø–æ–ª—å–∑—É–π `github.com/google/uuid` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UUID
- –î–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å ‚Äî –æ–±—ã—á–Ω—ã–π `log.Printf(...)`
