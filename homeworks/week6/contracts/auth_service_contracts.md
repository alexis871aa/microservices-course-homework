## üîê –°–µ—Ä–≤–∏—Å: `AuthService`

`AuthService` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –≤—Ö–æ–¥, –ø—Ä–æ–≤–µ—Ä–∫—É —Å–µ—Å—Å–∏–π –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π.

---

### –ú–µ—Ç–æ–¥: **Register**

**–ó–∞–ø—Ä–æ—Å:**

| –ü–æ–ª–µ                | –¢–∏–ø               | –û–ø–∏—Å–∞–Ω–∏–µ                                                         |
|---------------------|------------------|------------------------------------------------------------------|
| login               | string            | –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                               |
| password            | string            | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                              |
| email               | string            | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                               |
| notification_methods| []NotificationMethod | –ö–∞–Ω–∞–ª—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è     |

**–û—Ç–≤–µ—Ç:**

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                   |
|-----------|---------|----------------------------|
| user_uuid | string  | UUID –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

---

### –ú–µ—Ç–æ–¥: **Login**

**–ó–∞–ø—Ä–æ—Å:**

| –ü–æ–ª–µ    | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ           |
|---------|---------|--------------------|
| login   | string  | –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| password| string  | –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|

**–û—Ç–≤–µ—Ç:**

| –ü–æ–ª–µ         | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                     |
|--------------|---------|------------------------------|
| session_uuid | string  | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏         |

---

### –ú–µ—Ç–æ–¥: **Whoami**

**–ó–∞–ø—Ä–æ—Å:**

| –ü–æ–ª–µ         | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ            |
|--------------|---------|---------------------|
| session_uuid | string  | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–µ—Å—Å–∏–∏|

**–û—Ç–≤–µ—Ç:**

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ             |
|-----------|---------|----------------------|
| user_uuid | string  | UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    |
| login     | string  | –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   |
| email     | string  | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   |

---

### –ú–µ—Ç–æ–¥: **GetUser**

**–ó–∞–ø—Ä–æ—Å:**

| –ü–æ–ª–µ      | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ            |
|-----------|---------|---------------------|
| user_uuid | string  | UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è   |

**–û—Ç–≤–µ—Ç:**

| –ü–æ–ª–µ                | –¢–∏–ø               | –û–ø–∏—Å–∞–Ω–∏–µ                                                       |
|---------------------|------------------|----------------------------------------------------------------|
| user_uuid           | string            | UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                              |
| login               | string            | –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                             |
| email               | string            | Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                                             |
| notification_methods| []NotificationMethod | –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                    |

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞: **NotificationMethod**

| –ü–æ–ª–µ         | –¢–∏–ø     | –û–ø–∏—Å–∞–Ω–∏–µ                                                  |
|--------------|---------|-----------------------------------------------------------|
| providerName | string  | –ò–º—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `telegram`, `email`, `push`)    |
| target       | string  | –ê–¥—Ä–µ—Å –ø–æ–ª—É—á–∞—Ç–µ–ª—è ‚Äî email, ID —á–∞—Ç–∞ –∏ —Ç.–¥.                  |

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ gRPC

–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ gRPC –∫–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `sessionUUID` –≤ **metadata** –∑–∞–ø—Ä–æ—Å–∞:

- **–ö–ª—é—á metadata**: `session-uuid`
- **–ó–Ω–∞—á–µ–Ω–∏–µ**: UUID —Å–µ—Å—Å–∏–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç –º–µ—Ç–æ–¥–∞ `Login`

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```go
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ session UUID –≤ –∏—Å—Ö–æ–¥—è—â–∏–µ gRPC metadata
ctx = metadata.AppendToOutgoingContext(ctx, "session-uuid", sessionUUID)

// –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
response, err := client.GetUser(ctx, request)
```

### –ú–µ—Ç–æ–¥—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π:

- `Whoami` ‚Äî —Ç—Ä–µ–±—É–µ—Ç `session-uuid` –≤ metadata
- `GetUser` ‚Äî –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `session-uuid` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
