# üß± –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Äî –ù–µ–¥–µ–ª—è 8
**–ö—É—Ä—Å: ¬´–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –∫–∞–∫ –≤ BigTech 2.0¬ª**

---

## üìå –ó–∞–¥–∞–Ω–∏–µ

–ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ –≤—ã –¥–æ–±–∞–≤–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é **observability**: —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–±–æ—Ä –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –º–µ—Ç—Ä–∏–∫, –∞–ª–µ—Ä—Ç—ã –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏.

---

### ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:

#### üî∏ 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –í **–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ** `/platform/logger`:
    - –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (`fmt.Println`, `log.Println`) –Ω–∞ **Zap** (https://github.com/uber-go/zap)
    - –°–æ–∑–¥–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å:
        - structured logs (`logger.Info("message", zap.String("field", "value"))`)
        - —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤ (info, error, warn)
- –í–æ **–≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö**:
    - –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã `print`, `log` –∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ª–æ–≥–µ—Ä–æ–≤ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ `logger`
    - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–æ –≤—Å–µ—Ö —Å–ª–æ—è—Ö (`service`, `consumer`, `producer`, `repository`, `client`) –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ DI

---

#### üî∏ 2. ELK-—Å—Ç–µ–∫ (Logging UI)

- –ü–æ–¥–Ω—è—Ç—å **ELK-—Å—Ç–µ–∫** (`Elasticsearch + Logstash + Kibana`) –≤ –æ–±—â–µ–º `docker-compose.yml`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω:
    - –õ–æ–≥–∏—Ä–æ–≤–∞–ª –≤ stdout (structured JSON)
    - –õ–æ–≥–∏ —Å–æ–±–∏—Ä–∞–ª–∏—Å—å Logstash‚Äô–µ–º –∏ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏—Å—å –≤ Elasticsearch
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–∏–¥–Ω—ã –≤ Kibana

---

#### üî∏ 3. –ú–µ—Ç—Ä–∏–∫–∏ (Prometheus + Grafana)

- –ü–æ–¥–∫–ª—é—á–∏—Ç—å **Prometheus** –∫ —Å–µ—Ä–≤–∏—Å–∞–º –∏ —Å–æ–±—Ä–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ `/metrics` endpoint
- –í `OrderService`:
    - –ú–µ—Ç—Ä–∏–∫–∞ `orders_total` ‚Äî –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
    - –ú–µ—Ç—Ä–∏–∫–∞ `orders_revenue_total` ‚Äî —Å—É–º–º–∞—Ä–Ω–∞—è –≤—ã—Ä—É—á–∫–∞
- –í `AssemblyService`:
    - –ú–µ—Ç—Ä–∏–∫–∞ `assembly_duration_seconds` ‚Äî –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ—Ä–∞–±–ª—è
- –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –≤ **Grafana** —á–µ—Ä–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Prometheus

---

#### üî∏ 4. –ê–ª–µ—Ä—Ç

- –î–æ–±–∞–≤–∏—Ç—å **–∞–ª–µ—Ä—Ç –≤ Telegram**, –µ—Å–ª–∏:
    - –ó–∞ **1 –º–∏–Ω—É—Ç—É** –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ **–±–æ–ª–µ–µ 10 –∑–∞–∫–∞–∑–æ–≤**
- –ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑:
    - Alertmanager (Prometheus)
- –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å Telegram Bot API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–ª–µ—Ä—Ç–∞

---

#### üî∏ 5. –¢—Ä–µ–π—Å–∏–Ω–≥ (Distributed Tracing)

- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å **OpenTelemetry** –≤ `OrderService` –∏ `PaymentService`
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π —Ç—Ä–µ–π—Å** –ø—Ä–∏ –æ–ø–ª–∞—Ç–µ:
    - –í –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞ `PayOrder` ‚Üí —Å–æ–∑–¥–∞—Ç—å trace span
    - –ü—Ä–æ–±—Ä–æ—Å–∏—Ç—å trace context –≤ `PaymentService`
    - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ UI —Ç—Ä–µ–π—Å –≤–∏–¥–Ω–æ –∫–∞–∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
        - `HTTP ‚Üí OrderService ‚Üí gRPC ‚Üí PaymentService`

---

## üß± –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ

```
/platform/
‚îú‚îÄ‚îÄ /logger/
‚îÇ   ‚îú‚îÄ‚îÄ logger.go              # –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ zap.Logger
‚îÇ   ‚îî‚îÄ‚îÄ config.go              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Ä–æ–≤–Ω–µ–π, –ø–æ–ª–µ–π –∏ —Ñ–æ—Ä–º–∞—Ç–∞ –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ /prometheus/
‚îÇ   ‚îú‚îÄ‚îÄ metrics.go             # –û–±—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, —Å—á—ë—Ç—á–∏–∫–∏, –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ middleware.go          # Middleware –¥–ª—è HTTP –∏ gRPC —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ /tracing/
‚îÇ   ‚îî‚îÄ‚îÄ tracer.go              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OpenTelemetry, trace inject/extract
```

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

- **–°–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤–æ—Å—å–º–æ–π –Ω–µ–¥–µ–ª–∏**:  
  –í —É—Ä–æ–∫–∞—Ö –≤–æ—Å—å–º–æ–π –Ω–µ–¥–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è.  
  üëâ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —É—Ä–æ–∫–∞–º–∏, –∞ –∑–∞—Ç–µ–º –ø—Ä–∏—Å—Ç—É–ø–∞—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

- **–ù–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∑–∞ –ø–æ–º–æ—â—å—é**:  
  –ï—Å–ª–∏ –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏ –∏–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã, –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ —á–∞—Ç –∫—É—Ä—Å–∞ –∏–ª–∏ –∫ —Å–≤–æ–µ–º—É —Ä–µ–≤—å—é–µ—Ä—É (–µ—Å–ª–∏ –≤—ã –Ω–∞ —Ç–∞—Ä–∏—Ñ–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π).
  > –ï—Å–ª–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –º–∏–Ω—É—Ç –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –ª—É—á—à–µ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –ø–æ–º–æ—â–∏.  
  > **–°–ø—Ä–æ—Å–∏—Ç—å ‚Äî –Ω–µ –∑–Ω–∞—á–∏—Ç —Å–¥–∞—Ç—å—Å—è**, —ç—Ç–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—ã—Ç—É –¥—Ä—É–≥–∏—Ö.

---

**–ê–≤—Ç–æ—Ä –∫—É—Ä—Å–∞: –û–ª–µ–≥ –ö–æ–∑—ã—Ä–µ–≤, 2025**
